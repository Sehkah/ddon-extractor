pluginManagement {
    plugins {
        id 'org.beryx.jlink' version '2.26.0'
        id 'org.javamodularity.moduleplugin' version '1.8.12'
        id 'io.freefair.lombok' version '8.0.1'
    }
}

plugins {
    id 'org.gradle.toolchains.foojay-resolver-convention' version '0.5.0'
}

dependencyResolutionManagement {
    versionCatalogs {
        lib {
            version('comFasterxmlJackson', '2.15.0')

            // https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml
            library('jackson-dataformat-yaml', 'com.fasterxml.jackson.dataformat', 'jackson-dataformat-yaml').versionRef('comFasterxmlJackson')
        }
        libTest {
            version('commonsCodec', '1.15')
            version('commonsIo', '2.12.0')

            // https://mvnrepository.com/artifact/commons-codec/commons-codec
            library('commons-codec', 'commons-codec', 'commons-codec').versionRef('commonsCodec')
            // https://mvnrepository.com/artifact/commons-io/commons-io
            library('commons-io', 'commons-io', 'commons-io').versionRef('commonsIo')
        }
        cli {
            version('comFasterxmlJackson', '2.15.0')
            version('infoPicocli', '4.7.3')

            // https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml
            library('jackson-dataformat-yaml', 'com.fasterxml.jackson.dataformat', 'jackson-dataformat-yaml').versionRef('comFasterxmlJackson')
            // https://mvnrepository.com/artifact/info.picocli/picocli
            library('picocli', 'info.picocli', 'picocli').versionRef('infoPicocli')
        }
    }
}

dependencyResolutionManagement {
    repositories {
        mavenCentral()
        mavenLocal()
    }
}

rootProject.name = 'ddon-extractor'

String[] modules = [
        'cli',
        'lib',
        'lib-test'
]

include modules
